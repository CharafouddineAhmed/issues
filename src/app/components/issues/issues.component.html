
<app-navbar></app-navbar>


<div class="row mb-4">
    <div class="col">
        <div class="input-group">
            <input type="text" class="form-control" aria-label="Search all issues" placeholder="Search for anything ... ">
        </div>
    </div>
    <div class="col-md-auto">
        
        <div class="btn-group" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-light" routerLink="/label">
                Labels <span class="badge text-bg-secondary">4</span>
            </button>
            <button type="button" class="btn btn-light" routerLink="/new">
                <b>Add new element</b>
            </button>
      
          </div>
    </div>
</div>


<!-- Filtres appliquées -->
<div class="alert alert-warning alert-dismissible fade show" role="alert">
    <strong>Clear current search query, filters, and sorts! Status des services </strong> 
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" (click)="clearFiltre()" ></button>
</div>
<!-- END Filtres appliquées -->

<!-- Filtres appliquées -->
<div class="alert alert-success alert-dismissible fade show" role="alert">
    <strong>Status du service elasticsearch </strong> 
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" (click)="clearFiltre()" ></button>
</div>
<!-- END Filtres appliquées -->


<!--Issue list -->
<div class="row mb-4">
    <div class="col">

        <div class="card">
            <div class="card-header">

                <div class="row justify-content-between">
                    <div class="col-5">
                        <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                            <div class="btn-group me-2" role="group" aria-label="First group">
                                <button type="button" class="btn btn-link" style="color: inherit; text-decoration: none !important;">
                                <b>Showing 1 - 20 out of 10000 </b>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <!--<button type="button" class="btn btn-link " style="color: inherit; text-decoration: none !important;" routerLink="/new" > Add new element </button>-->

                        <!--<button type="button" class="btn btn-success btn-sm" routerLink="/new" >New elements</button>-->
                    </div> 
                  </div>
            </div>

            <!-- liste issues -->
            <ul class="list-group ">
        
                <a *ngFor="let item of issues | async" class="list-group-item list-group-item-action" (click)="goToDetail(item)">
                    <div class="d-flex w-100 justify-content-between">
                        <div *ngIf="item.status === 'isOpen'; else elseBlock">
                            <h6 class="mb-1">
                                <span class="badge {{item.color_type}}"> {{item.type_name}} </span> {{ item.title }} 
                            </h6>
                            <small class="text-body-primary" >Published {{item.dateCreated.toDate() | date:'medium' }} by @{{ item.postBy }} </small>

                        </div>
                        <ng-template #elseBlock>
                            <h6 class="mb-1">
                                <i class="bi bi-check-circle-fill"></i> {{ item.title }} 
                            </h6>
                                <small class="text-body-secondary">Published {{item.dateCreated.toDate() | date:'medium' }} by @{{ item.postBy }} </small>

                        </ng-template>
                        <small class="text-body-secondary"> <i class="bi bi-chat-right-text"></i> {{ item.comments?.length ?? 0  }}</small>
                    </div>
                    
                    <!-- <small class="text-body-secondary" >{{item.status}} {{item.dateCreated.toDate() | date:'medium' }} by @{{ item.postBy }} </small> -->
                </a>
            </ul>
            <!-- END liste issues -->

            <!-- No issues yet-->
            <div *ngIf="(issues | async)?.length==0" style="display: flex;justify-content: center;">
                No issues found.
            </div>  
            <!-- END No issues -->      

            <div class="card-footer">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                      <li class="page-item disabled">
                        <a class="page-link">Previous</a>
                      </li>
                      <li class="page-item"><a class="page-link" href="#">1</a></li>
                      <li class="page-item"><a class="page-link" href="#">2</a></li>
                      <li class="page-item"><a class="page-link" href="#">3</a></li>
                      <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                      </li>
                    </ul>
                  </nav>

            </div>
        </div>
    </div>
</div>
<!--END Issue list-->

